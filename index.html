<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discipline Dojo - Boot Camp Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap');
        
        :root {
            --primary: #1e3a8a;
            --secondary: #dc2626;
            --accent: #f59e0b;
            --light: #f8fafc;
            --dark: #0f172a;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--light);
            min-height: 100vh;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Orbitron', sans-serif;
        }
        
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #334155;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            transition: width 0.5s ease;
        }
        
        .challenge-card {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 10px;
            border: 1px solid #475569;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .challenge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }
        
        .challenge-card.completed {
            border-color: #10b981;
        }
        
        .challenge-card.completed .status-indicator {
            background-color: #10b981;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #6b7280;
        }
        
        .game-screen {
            display: none;
        }
        
        .game-screen.active {
            display: block;
        }
        
        .focus-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 3px solid var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .focus-center {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .breathing-animation {
            animation: pulse 4s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }
        
        .meditation-dot {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--accent);
            animation: float 6s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(20px); opacity: 0; }
        }
        
        .task-item {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 8px;
            padding: 12px 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .task-item:hover {
            background: rgba(30, 41, 59, 0.9);
        }
        
        .task-checkbox {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid #475569;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .task-checkbox.checked {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        
        .impulse-button {
            background: linear-gradient(135deg, var(--secondary) 0%, #ef4444 100%);
            border-radius: 50%;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 5px 15px rgba(220, 38, 38, 0.4);
        }
        
        .impulse-button:active {
            transform: scale(0.95);
            box-shadow: 0 2px 5px rgba(220, 38, 38, 0.4);
        }
        
        .rank-badge {
            background: linear-gradient(135deg, var(--primary) 0%, #3730a3 100%);
            border-radius: 20px;
            padding: 5px 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
        }
        
        .floating-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(30, 41, 59, 0.9);
            border-left: 4px solid var(--accent);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(120%);
            transition: transform 0.5s ease;
            z-index: 100;
        }
        
        .floating-notification.show {
            transform: translateX(0);
        }
        
        .countdown-timer {
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
        }
        
        .character {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #374151 0%, #6b7280 100%);
            border-radius: 60px 60px 10px 10px;
            position: relative;
            margin: 0 auto 20px;
        }
        
        .character-face {
            width: 60px;
            height: 60px;
            background-color: #fbbf24;
            border-radius: 50%;
            position: absolute;
            top: 15px;
            left: 30px;
        }
        
        .character-eye {
            width: 10px;
            height: 10px;
            background-color: #1f2937;
            border-radius: 50%;
            position: absolute;
            top: 20px;
        }
        
        .character-eye.left {
            left: 15px;
        }
        
        .character-eye.right {
            right: 15px;
        }
        
        .character-mouth {
            width: 30px;
            height: 5px;
            background-color: #1f2937;
            border-radius: 5px;
            position: absolute;
            bottom: 15px;
            left: 15px;
        }
        
        /* Meditation specific styles */
        .meditation-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
        }
        
        .meditation-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: rgba(245, 158, 11, 0.2);
            border: 2px solid var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .distraction {
            position: absolute;
            background: rgba(220, 38, 38, 0.8);
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .distraction:hover {
            transform: scale(1.1);
            background: rgba(220, 38, 38, 1);
        }
        
        /* Memory game styles */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .memory-card {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }
        
        .memory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .memory-card.flipped {
            background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);
            transform: rotateY(180deg);
        }
        
        .memory-card.matched {
            background: linear-gradient(135deg, #065f46 0%, #047857 100%);
            cursor: default;
        }
        
        .sequence-display {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            max-width: 400px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .sequence-item {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .pulse {
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="py-4 px-6 border-b border-gray-700">
        <div class="game-container flex justify-between items-center">
            <div class="flex items-center">
                <i class="fas fa-medal text-2xl text-yellow-500 mr-3"></i>
                <h1 class="text-2xl font-bold">DISCIPLINE DOJO</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-right">
                    <div class="text-sm text-gray-400">Rank</div>
                    <div class="font-bold">Recruit</div>
                </div>
                <div class="w-10 h-10 bg-blue-900 rounded-full flex items-center justify-center">
                    <i class="fas fa-user text-white"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow py-8 px-4">
        <div class="game-container">
            <!-- Home Screen -->
            <div id="home-screen" class="game-screen active">
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-bold mb-2">Welcome to Discipline Dojo</h2>
                    <p class="text-gray-400 max-w-2xl mx-auto">Build mental toughness and self-control through challenging exercises. Complete all challenges to advance to the next rank.</p>
                </div>
                
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-medium">Boot Camp Progress</span>
                        <span class="text-sm font-bold">20%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 20%"></div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Challenge 1 -->
                    <div class="challenge-card p-5" data-challenge="focus">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Focus Drill</h3>
                            <div class="status-indicator"></div>
                        </div>
                        <p class="text-gray-400 mb-4">Maintain focus on a moving target for 60 seconds without distraction.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 50 XP</span>
                            <button class="bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Start Challenge</button>
                        </div>
                    </div>
                    
                    <!-- Challenge 2 -->
                    <div class="challenge-card p-5" data-challenge="breathing">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Breathing Control</h3>
                            <div class="status-indicator"></div>
                        </div>
                        <p class="text-gray-400 mb-4">Follow the breathing pattern to calm your mind and improve focus.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 40 XP</span>
                            <button class="bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Start Challenge</button>
                        </div>
                    </div>
                    
                    <!-- Challenge 3 -->
                    <div class="challenge-card p-5" data-challenge="tasks">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Task Completion</h3>
                            <div class="status-indicator"></div>
                        </div>
                        <p class="text-gray-400 mb-4">Complete a series of tasks in the correct order without mistakes.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 60 XP</span>
                            <button class="bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Start Challenge</button>
                        </div>
                    </div>
                    
                    <!-- Challenge 4 -->
                    <div class="challenge-card p-5" data-challenge="impulse">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Impulse Control</h3>
                            <div class="status-indicator"></div>
                        </div>
                        <p class="text-gray-400 mb-4">Resist clicking the button for as long as possible to build self-control.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 70 XP</span>
                            <button class="bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Start Challenge</button>
                        </div>
                    </div>
                    
                    <!-- Challenge 5 -->
                    <div class="challenge-card p-5" data-challenge="meditation">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Mindful Meditation</h3>
                            <div class="status-indicator"></div>
                        </div>
                        <p class="text-gray-400 mb-4">Clear your mind and focus on your breathing while ignoring distractions.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 80 XP</span>
                            <button class="bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Start Challenge</button>
                        </div>
                    </div>
                    
                    <!-- Challenge 6 -->
                    <div class="challenge-card p-5" data-challenge="memory">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Memory Challenge</h3>
                            <div class="status-indicator"></div>
                        </div>
                        <p class="text-gray-400 mb-4">Memorize and repeat increasingly complex patterns to strengthen focus.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 75 XP</span>
                            <button class="bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">Start Challenge</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Focus Challenge Screen -->
            <div id="focus-screen" class="game-screen">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">Focus Drill</h2>
                    <p class="text-gray-400">Keep your cursor inside the circle for 60 seconds. If you leave, the timer resets.</p>
                </div>
                
                <div class="flex flex-col items-center justify-center h-96">
                    <div class="focus-circle mb-8" id="focus-area">
                        <div class="focus-center">
                            <i class="fas fa-crosshairs text-white"></i>
                        </div>
                    </div>
                    
                    <div class="countdown-timer mb-4" id="focus-timer">60</div>
                    <p class="text-gray-400">Time remaining</p>
                    
                    <div class="mt-8 flex space-x-4">
                        <button id="focus-back" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition">Back</button>
                        <button id="focus-reset" class="bg-red-700 hover:bg-red-600 text-white px-6 py-3 rounded-lg transition">Reset</button>
                    </div>
                </div>
            </div>
            
            <!-- Breathing Challenge Screen -->
            <div id="breathing-screen" class="game-screen">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">Breathing Control</h2>
                    <p class="text-gray-400">Follow the breathing pattern: Inhale for 4 seconds, hold for 4, exhale for 6.</p>
                </div>
                
                <div class="flex flex-col items-center justify-center h-96">
                    <div class="focus-circle breathing-animation mb-8 relative">
                        <div class="focus-center">
                            <i class="fas fa-wind text-white"></i>
                        </div>
                        <div class="meditation-dot" style="top: 10px; left: 50px; animation-delay: 0s;"></div>
                        <div class="meditation-dot" style="top: 30px; right: 30px; animation-delay: 1s;"></div>
                        <div class="meditation-dot" style="bottom: 20px; left: 30px; animation-delay: 2s;"></div>
                        <div class="meditation-dot" style="bottom: 40px; right: 50px; animation-delay: 3s;"></div>
                    </div>
                    
                    <div class="text-2xl mb-2" id="breathing-instruction">Inhale</div>
                    <div class="countdown-timer mb-4" id="breathing-timer">4</div>
                    
                    <div class="mt-8">
                        <button id="breathing-back" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition">Back</button>
                    </div>
                </div>
            </div>
            
            <!-- Task Challenge Screen -->
            <div id="tasks-screen" class="game-screen">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">Task Completion</h2>
                    <p class="text-gray-400">Complete all tasks in the correct order. You must follow the sequence exactly.</p>
                </div>
                
                <div class="max-w-md mx-auto">
                    <div class="mb-6">
                        <h3 class="text-xl font-bold mb-4">Your Tasks:</h3>
                        <div class="task-list">
                            <div class="task-item" data-task="1">
                                <div class="task-checkbox"><i class="fas fa-check text-white hidden"></i></div>
                                <span>Click the blue button</span>
                            </div>
                            <div class="task-item" data-task="2">
                                <div class="task-checkbox"><i class="fas fa-check text-white hidden"></i></div>
                                <span>Type "DISCIPLINE" in the field</span>
                            </div>
                            <div class="task-item" data-task="3">
                                <div class="task-checkbox"><i class="fas fa-check text-white hidden"></i></div>
                                <span>Select option 3 from dropdown</span>
                            </div>
                            <div class="task-item" data-task="4">
                                <div class="task-checkbox"><i class="fas fa-check text-white hidden"></i></div>
                                <span>Check the confirmation box</span>
                            </div>
                            <div class="task-item" data-task="5">
                                <div class="task-checkbox"><i class="fas fa-check text-white hidden"></i></div>
                                <span>Click complete</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <button id="task-blue-btn" class="w-full bg-blue-700 hover:bg-blue-600 text-white py-3 rounded-lg transition">Blue Button</button>
                        
                        <input type="text" id="task-input" class="w-full bg-gray-800 border border-gray-700 rounded-lg py-3 px-4 text-white" placeholder="Type here...">
                        
                        <select id="task-dropdown" class="w-full bg-gray-800 border border-gray-700 rounded-lg py-3 px-4 text-white">
                            <option value="">Select an option</option>
                            <option value="1">Option 1</option>
                            <option value="2">Option 2</option>
                            <option value="3">Option 3</option>
                        </select>
                        
                        <div class="flex items-center">
                            <input type="checkbox" id="task-checkbox" class="w-5 h-5 mr-3">
                            <label for="task-checkbox">I confirm I've completed all tasks in order</label>
                        </div>
                        
                        <button id="task-complete" class="w-full bg-green-700 hover:bg-green-600 text-white py-3 rounded-lg transition">Complete</button>
                    </div>
                    
                    <div class="mt-8 text-center">
                        <button id="tasks-back" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition">Back</button>
                    </div>
                </div>
            </div>
            
            <!-- Impulse Control Screen -->
            <div id="impulse-screen" class="game-screen">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">Impulse Control</h2>
                    <p class="text-gray-400">Resist clicking the button for as long as possible. The longer you wait, the more points you earn.</p>
                </div>
                
                <div class="flex flex-col items-center justify-center h-96">
                    <div class="mb-8 text-center">
                        <div class="text-2xl mb-2">Time Resisted:</div>
                        <div class="countdown-timer" id="impulse-timer">0</div>
                        <div class="text-lg mt-2">seconds</div>
                    </div>
                    
                    <div class="impulse-button mb-8" id="impulse-btn">
                        DON'T CLICK!
                    </div>
                    
                    <div class="text-center mb-4">
                        <div class="text-lg">High Score: <span id="impulse-highscore">0</span> seconds</div>
                    </div>
                    
                    <div class="mt-4">
                        <button id="impulse-back" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition">Back</button>
                    </div>
                </div>
            </div>
            
            <!-- Meditation Challenge Screen -->
            <div id="meditation-screen" class="game-screen">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">Mindful Meditation</h2>
                    <p class="text-gray-400">Focus on your breathing and ignore the distractions that appear. Maintain focus for 30 seconds.</p>
                </div>
                
                <div class="flex flex-col items-center justify-center">
                    <div class="meditation-container mb-8">
                        <div class="meditation-center">
                            <i class="fas fa-spa text-2xl text-yellow-500"></i>
                        </div>
                        <!-- Distractions will be dynamically added here -->
                    </div>
                    
                    <div class="countdown-timer mb-4" id="meditation-timer">30</div>
                    <p class="text-gray-400 mb-4">Time remaining</p>
                    
                    <div class="bg-gray-800 rounded-lg p-4 mb-6 max-w-md">
                        <div class="flex items-center justify-between mb-2">
                            <span>Focus Level:</span>
                            <span class="font-bold" id="focus-level">100%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="focus-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button id="meditation-back" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition">Back</button>
                    </div>
                </div>
            </div>
            
            <!-- Memory Challenge Screen -->
            <div id="memory-screen" class="game-screen">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">Memory Challenge</h2>
                    <p class="text-gray-400">Memorize the pattern shown, then repeat it by clicking the cards in the same order.</p>
                </div>
                
                <div class="max-w-md mx-auto">
                    <div class="flex justify-between items-center mb-6">
                        <div class="text-lg">Level: <span id="memory-level">1</span></div>
                        <div class="text-lg">Score: <span id="memory-score">0</span></div>
                    </div>
                    
                    <div class="sequence-display mb-6" id="sequence-display">
                        <!-- Sequence will be shown here -->
                        <div class="text-gray-400">Watch the pattern...</div>
                    </div>
                    
                    <div class="memory-grid mb-6" id="memory-grid">
                        <!-- Memory cards will be dynamically added here -->
                    </div>
                    
                    <div class="text-center mb-4">
                        <button id="memory-start" class="bg-blue-700 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition">Start Round</button>
                        <button id="memory-next" class="bg-green-700 hover:bg-green-600 text-white px-6 py-3 rounded-lg transition hidden">Next Level</button>
                    </div>
                    
                    <div class="text-center">
                        <button id="memory-back" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition">Back</button>
                    </div>
                </div>
            </div>
            
            <!-- Completion Screen -->
            <div id="completion-screen" class="game-screen">
                <div class="text-center max-w-2xl mx-auto py-12">
                    <div class="text-green-500 text-6xl mb-6">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h2 class="text-4xl font-bold mb-4">Challenge Complete!</h2>
                    <p class="text-xl text-gray-400 mb-6">You've earned <span class="text-yellow-500 font-bold" id="earned-xp">0</span> XP</p>
                    
                    <div class="bg-gray-800 rounded-xl p-6 mb-8">
                        <h3 class="text-2xl font-bold mb-4">Your Progress</h3>
                        <div class="flex justify-between items-center mb-4">
                            <span>Overall Progress</span>
                            <span class="font-bold">35%</span>
                        </div>
                        <div class="progress-bar mb-6">
                            <div class="progress-fill" style="width: 35%"></div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div class="text-center p-4 bg-gray-700 rounded-lg">
                                <div class="text-2xl font-bold text-yellow-500">2</div>
                                <div class="text-sm">Challenges Completed</div>
                            </div>
                            <div class="text-center p-4 bg-gray-700 rounded-lg">
                                <div class="text-2xl font-bold text-blue-500">150</div>
                                <div class="text-sm">Total XP</div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="completion-continue" class="bg-blue-700 hover:bg-blue-600 text-white px-8 py-4 rounded-lg text-lg transition">Continue Training</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Notification -->
    <div id="notification" class="floating-notification">
        <div class="flex items-center">
            <i class="fas fa-check-circle text-green-500 text-xl mr-3"></i>
            <div>
                <div class="font-bold">Challenge Complete!</div>
                <div class="text-sm text-gray-400">+50 XP earned</div>
            </div>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            currentScreen: 'home',
            completedChallenges: [],
            totalXP: 100,
            currentChallenge: null,
            focusTimer: null,
            focusTimeLeft: 60,
            breathingPhase: 'inhale',
            breathingTimeLeft: 4,
            breathingTimer: null,
            taskProgress: 1,
            impulseStartTime: null,
            impulseTimer: null,
            impulseSeconds: 0,
            impulseHighScore: parseInt(localStorage.getItem('impulseHighScore')) || 0,
            // Meditation state
            meditationTimer: null,
            meditationTimeLeft: 30,
            focusLevel: 100,
            distractionInterval: null,
            // Memory state
            memorySequence: [],
            playerSequence: [],
            memoryLevel: 1,
            memoryScore: 0,
            isShowingSequence: false,
            canClick: false
        };

        // DOM Elements
        const screens = {
            home: document.getElementById('home-screen'),
            focus: document.getElementById('focus-screen'),
            breathing: document.getElementById('breathing-screen'),
            tasks: document.getElementById('tasks-screen'),
            impulse: document.getElementById('impulse-screen'),
            meditation: document.getElementById('meditation-screen'),
            memory: document.getElementById('memory-screen'),
            completion: document.getElementById('completion-screen')
        };

        const notification = document.getElementById('notification');
        
        // Initialize game
        document.addEventListener('DOMContentLoaded', function() {
            // Set up challenge buttons
            document.querySelectorAll('.challenge-card').forEach(card => {
                const button = card.querySelector('button');
                const challenge = card.getAttribute('data-challenge');
                
                button.addEventListener('click', () => {
                    startChallenge(challenge);
                });
            });
            
            // Set up back buttons
            document.getElementById('focus-back').addEventListener('click', () => showScreen('home'));
            document.getElementById('breathing-back').addEventListener('click', () => {
                stopBreathingExercise();
                showScreen('home');
            });
            document.getElementById('tasks-back').addEventListener('click', () => showScreen('home'));
            document.getElementById('impulse-back').addEventListener('click', () => {
                stopImpulseTimer();
                showScreen('home');
            });
            document.getElementById('meditation-back').addEventListener('click', () => {
                stopMeditation();
                showScreen('home');
            });
            document.getElementById('memory-back').addEventListener('click', () => {
                resetMemoryGame();
                showScreen('home');
            });
            document.getElementById('completion-continue').addEventListener('click', () => showScreen('home'));
            
            // Focus challenge setup
            const focusArea = document.getElementById('focus-area');
            const focusTimer = document.getElementById('focus-timer');
            
            focusArea.addEventListener('mouseenter', startFocusTimer);
            focusArea.addEventListener('mouseleave', resetFocusTimer);
            document.getElementById('focus-reset').addEventListener('click', resetFocusTimer);
            
            // Breathing challenge setup
            startBreathingExercise();
            
            // Tasks challenge setup
            setupTasksChallenge();
            
            // Impulse challenge setup
            setupImpulseChallenge();
            
            // Meditation challenge setup
            setupMeditationChallenge();
            
            // Memory challenge setup
            setupMemoryChallenge();
            
            // Set high score display
            document.getElementById('impulse-highscore').textContent = gameState.impulseHighScore;
        });
        
        // Screen management
        function showScreen(screenName) {
            // Hide all screens
            Object.values(screens).forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show requested screen
            screens[screenName].classList.add('active');
            gameState.currentScreen = screenName;
        }
        
        function startChallenge(challenge) {
            gameState.currentChallenge = challenge;
            
            switch(challenge) {
                case 'focus':
                    resetFocusTimer();
                    showScreen('focus');
                    break;
                case 'breathing':
                    showScreen('breathing');
                    break;
                case 'tasks':
                    resetTasksChallenge();
                    showScreen('tasks');
                    break;
                case 'impulse':
                    startImpulseChallenge();
                    showScreen('impulse');
                    break;
                case 'meditation':
                    startMeditation();
                    showScreen('meditation');
                    break;
                case 'memory':
                    resetMemoryGame();
                    showScreen('memory');
                    break;
                default:
                    showScreen('home');
            }
        }
        
        function completeChallenge() {
            if (!gameState.completedChallenges.includes(gameState.currentChallenge)) {
                gameState.completedChallenges.push(gameState.currentChallenge);
                
                // Add XP based on challenge
                let xpEarned = 0;
                switch(gameState.currentChallenge) {
                    case 'focus': xpEarned = 50; break;
                    case 'breathing': xpEarned = 40; break;
                    case 'tasks': xpEarned = 60; break;
                    case 'impulse': xpEarned = 70; break;
                    case 'meditation': xpEarned = 80; break;
                    case 'memory': xpEarned = 75; break;
                }
                
                gameState.totalXP += xpEarned;
                
                // Update completion screen
                document.getElementById('earned-xp').textContent = xpEarned;
                
                // Show completion screen
                showScreen('completion');
                
                // Show notification
                showNotification(`Challenge Complete!`, `+${xpEarned} XP earned`);
                
                // Update challenge card status
                const challengeCard = document.querySelector(`.challenge-card[data-challenge="${gameState.currentChallenge}"]`);
                challengeCard.classList.add('completed');
                challengeCard.querySelector('.status-indicator').style.backgroundColor = '#10b981';
            }
        }
        
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            notification.querySelector('.font-bold').textContent = title;
            notification.querySelector('.text-gray-400').textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Focus Challenge Functions
        function startFocusTimer() {
            gameState.focusTimer = setInterval(() => {
                gameState.focusTimeLeft--;
                document.getElementById('focus-timer').textContent = gameState.focusTimeLeft;
                
                if (gameState.focusTimeLeft <= 0) {
                    clearInterval(gameState.focusTimer);
                    completeChallenge();
                }
            }, 1000);
        }
        
        function resetFocusTimer() {
            clearInterval(gameState.focusTimer);
            gameState.focusTimeLeft = 60;
            document.getElementById('focus-timer').textContent = gameState.focusTimeLeft;
        }
        
        // Breathing Challenge Functions
        function startBreathingExercise() {
            gameState.breathingTimer = setInterval(updateBreathing, 1000);
        }
        
        function stopBreathingExercise() {
            clearInterval(gameState.breathingTimer);
        }
        
        function updateBreathing() {
            gameState.breathingTimeLeft--;
            document.getElementById('breathing-timer').textContent = gameState.breathingTimeLeft;
            
            if (gameState.breathingTimeLeft <= 0) {
                switch(gameState.breathingPhase) {
                    case 'inhale':
                        gameState.breathingPhase = 'hold';
                        gameState.breathingTimeLeft = 4;
                        document.getElementById('breathing-instruction').textContent = 'Hold';
                        break;
                    case 'hold':
                        gameState.breathingPhase = 'exhale';
                        gameState.breathingTimeLeft = 6;
                        document.getElementById('breathing-instruction').textContent = 'Exhale';
                        break;
                    case 'exhale':
                        gameState.breathingPhase = 'inhale';
                        gameState.breathingTimeLeft = 4;
                        document.getElementById('breathing-instruction').textContent = 'Inhale';
                        
                        // For demo purposes, complete after one full cycle
                        if (Math.random() > 0.7) {
                            completeChallenge();
                        }
                        break;
                }
            }
        }
        
        // Tasks Challenge Functions
        function setupTasksChallenge() {
            document.getElementById('task-blue-btn').addEventListener('click', () => {
                if (gameState.taskProgress === 1) {
                    completeTask(1);
                } else {
                    resetTasksChallenge();
                }
            });
            
            document.getElementById('task-input').addEventListener('input', (e) => {
                if (gameState.taskProgress === 2 && e.target.value.toUpperCase() === 'DISCIPLINE') {
                    completeTask(2);
                }
            });
            
            document.getElementById('task-dropdown').addEventListener('change', (e) => {
                if (gameState.taskProgress === 3 && e.target.value === '3') {
                    completeTask(3);
                }
            });
            
            document.getElementById('task-checkbox').addEventListener('change', (e) => {
                if (gameState.taskProgress === 4 && e.target.checked) {
                    completeTask(4);
                }
            });
            
            document.getElementById('task-complete').addEventListener('click', () => {
                if (gameState.taskProgress === 5) {
                    completeTask(5);
                    completeChallenge();
                } else {
                    resetTasksChallenge();
                }
            });
        }
        
        function resetTasksChallenge() {
            gameState.taskProgress = 1;
            document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                checkbox.classList.remove('checked');
                checkbox.querySelector('i').classList.add('hidden');
            });
            
            document.getElementById('task-input').value = '';
            document.getElementById('task-dropdown').value = '';
            document.getElementById('task-checkbox').checked = false;
        }
        
        function completeTask(taskNumber) {
            if (gameState.taskProgress === taskNumber) {
                const taskElement = document.querySelector(`.task-item[data-task="${taskNumber}"]`);
                const checkbox = taskElement.querySelector('.task-checkbox');
                checkbox.classList.add('checked');
                checkbox.querySelector('i').classList.remove('hidden');
                
                gameState.taskProgress++;
                
                // If all tasks are completed, mark challenge as complete
                if (taskNumber === 5) {
                    completeChallenge();
                }
            }
        }
        
        // Impulse Challenge Functions
        function setupImpulseChallenge() {
            document.getElementById('impulse-btn').addEventListener('click', () => {
                stopImpulseTimer();
                
                if (gameState.impulseSeconds > gameState.impulseHighScore) {
                    gameState.impulseHighScore = gameState.impulseSeconds;
                    localStorage.setItem('impulseHighScore', gameState.impulseHighScore.toString());
                    document.getElementById('impulse-highscore').textContent = gameState.impulseHighScore;
                }
                
                // For demo, complete if they resist for more than 5 seconds
                if (gameState.impulseSeconds >= 5) {
                    completeChallenge();
                }
            });
        }
        
        function startImpulseChallenge() {
            gameState.impulseStartTime = Date.now();
            gameState.impulseSeconds = 0;
            document.getElementById('impulse-timer').textContent = '0';
            
            gameState.impulseTimer = setInterval(() => {
                gameState.impulseSeconds = Math.floor((Date.now() - gameState.impulseStartTime) / 1000);
                document.getElementById('impulse-timer').textContent = gameState.impulseSeconds;
            }, 100);
        }
        
        function stopImpulseTimer() {
            clearInterval(gameState.impulseTimer);
        }
        
        // Meditation Challenge Functions
        function setupMeditationChallenge() {
            // Nothing needed here for now
        }
        
        function startMeditation() {
            resetMeditation();
            
            // Start timer
            gameState.meditationTimer = setInterval(() => {
                gameState.meditationTimeLeft--;
                document.getElementById('meditation-timer').textContent = gameState.meditationTimeLeft;
                
                if (gameState.meditationTimeLeft <= 0) {
                    stopMeditation();
                    completeChallenge();
                }
            }, 1000);
            
            // Start generating distractions
            gameState.distractionInterval = setInterval(createDistraction, 1500);
        }
        
        function stopMeditation() {
            clearInterval(gameState.meditationTimer);
            clearInterval(gameState.distractionInterval);
            
            // Remove all distractions
            document.querySelectorAll('.distraction').forEach(distraction => {
                distraction.remove();
            });
        }
        
        function resetMeditation() {
            stopMeditation();
            gameState.meditationTimeLeft = 30;
            gameState.focusLevel = 100;
            document.getElementById('meditation-timer').textContent = gameState.meditationTimeLeft;
            document.getElementById('focus-level').textContent = '100%';
            document.getElementById('focus-bar').style.width = '100%';
        }
        
        function createDistraction() {
            const container = document.querySelector('.meditation-container');
            const distraction = document.createElement('div');
            distraction.className = 'distraction';
            
            // Random distraction text
            const texts = [
                "Check your phone!",
                "What's that noise?",
                "You're hungry!",
                "Think about work",
                "Remember that embarrassing moment",
                "What's the weather tomorrow?",
                "Did you lock the door?",
                "You should be doing something else"
            ];
            
            distraction.textContent = texts[Math.floor(Math.random() * texts.length)];
            
            // Random position
            const posX = Math.random() * 200 - 100;
            const posY = Math.random() * 200 - 100;
            
            distraction.style.left = `calc(50% + ${posX}px)`;
            distraction.style.top = `calc(50% + ${posY}px)`;
            
            // Add click event
            distraction.addEventListener('click', () => {
                // Reduce focus level
                gameState.focusLevel = Math.max(0, gameState.focusLevel - 15);
                document.getElementById('focus-level').textContent = `${gameState.focusLevel}%`;
                document.getElementById('focus-bar').style.width = `${gameState.focusLevel}%`;
                
                // Remove distraction
                distraction.remove();
                
                // If focus reaches 0, fail the challenge
                if (gameState.focusLevel <= 0) {
                    stopMeditation();
                    alert('You lost focus! Try again.');
                    resetMeditation();
                }
            });
            
            container.appendChild(distraction);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (distraction.parentNode) {
                    distraction.remove();
                }
            }, 5000);
        }
        
        // Memory Challenge Functions
        function setupMemoryChallenge() {
            document.getElementById('memory-start').addEventListener('click', startMemoryRound);
            document.getElementById('memory-next').addEventListener('click', nextMemoryLevel);
            
            // Create memory cards
            const memoryGrid = document.getElementById('memory-grid');
            const symbols = ['', '', '', '', '', '', '', ''];
            
            for (let i = 0; i < 8; i++) {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = i;
                card.innerHTML = `<span class="hidden">${symbols[i]}</span>`;
                
                card.addEventListener('click', () => {
                    if (gameState.canClick && !card.classList.contains('matched')) {
                        handleMemoryCardClick(card);
                    }
                });
                
                memoryGrid.appendChild(card);
            }
        }
        
        function resetMemoryGame() {
            gameState.memorySequence = [];
            gameState.playerSequence = [];
            gameState.memoryLevel = 1;
            gameState.memoryScore = 0;
            gameState.isShowingSequence = false;
            gameState.canClick = false;
            
            document.getElementById('memory-level').textContent = '1';
            document.getElementById('memory-score').textContent = '0';
            document.getElementById('memory-start').classList.remove('hidden');
            document.getElementById('memory-next').classList.add('hidden');
            
            // Reset cards
            document.querySelectorAll('.memory-card').forEach(card => {
                card.classList.remove('flipped', 'matched');
                card.querySelector('span').classList.add('hidden');
            });
            
            document.getElementById('sequence-display').innerHTML = '<div class="text-gray-400">Watch the pattern...</div>';
        }
        
        function startMemoryRound() {
            gameState.memorySequence = [];
            gameState.playerSequence = [];
            gameState.isShowingSequence = true;
            gameState.canClick = false;
            
            document.getElementById('memory-start').classList.add('hidden');
            
            // Generate sequence based on level
            const sequenceLength = 2 + gameState.memoryLevel;
            for (let i = 0; i < sequenceLength; i++) {
                gameState.memorySequence.push(Math.floor(Math.random() * 8));
            }
            
            // Display sequence
            showMemorySequence();
        }
        
        function showMemorySequence() {
            const sequenceDisplay = document.getElementById('sequence-display');
            sequenceDisplay.innerHTML = '';
            
            let index = 0;
            const interval = setInterval(() => {
                if (index < gameState.memorySequence.length) {
                    const cardIndex = gameState.memorySequence[index];
                    const card = document.querySelector(`.memory-card[data-index="${cardIndex}"]`);
                    
                    // Highlight card
                    card.classList.add('flipped');
                    card.querySelector('span').classList.remove('hidden');
                    
                    setTimeout(() => {
                        card.classList.remove('flipped');
                        card.querySelector('span').classList.add('hidden');
                    }, 800);
                    
                    // Add to sequence display
                    const sequenceItem = document.createElement('div');
                    sequenceItem.className = 'sequence-item pulse';
                    sequenceItem.textContent = card.querySelector('span').textContent;
                    sequenceDisplay.appendChild(sequenceItem);
                    
                    index++;
                } else {
                    clearInterval(interval);
                    
                    // Allow player to click after a short delay
                    setTimeout(() => {
                        gameState.isShowingSequence = false;
                        gameState.canClick = true;
                        sequenceDisplay.innerHTML = '<div class="text-gray-400">Your turn! Repeat the pattern.</div>';
                    }, 1000);
                }
            }, 1200);
        }
        
        function handleMemoryCardClick(card) {
            if (!gameState.canClick) return;
            
            const cardIndex = parseInt(card.dataset.index);
            gameState.playerSequence.push(cardIndex);
            
            // Show card
            card.classList.add('flipped');
            card.querySelector('span').classList.remove('hidden');
            
            // Check if sequence is correct
            const currentIndex = gameState.playerSequence.length - 1;
            if (gameState.playerSequence[currentIndex] !== gameState.memorySequence[currentIndex]) {
                // Wrong sequence
                gameState.canClick = false;
                setTimeout(() => {
                    alert('Wrong sequence! Try again.');
                    resetMemoryGame();
                }, 500);
                return;
            }
            
            // Correct so far
            if (gameState.playerSequence.length === gameState.memorySequence.length) {
                // Completed sequence
                gameState.canClick = false;
                gameState.memoryScore += gameState.memoryLevel * 10;
                document.getElementById('memory-score').textContent = gameState.memoryScore;
                
                setTimeout(() => {
                    document.getElementById('memory-next').classList.remove('hidden');
                    
                    // For demo, complete after 3 levels
                    if (gameState.memoryLevel >= 3) {
                        completeChallenge();
                    }
                }, 1000);
            }
            
            // Hide card after a delay
            setTimeout(() => {
                card.classList.remove('flipped');
                card.querySelector('span').classList.add('hidden');
            }, 800);
        }
        
        function nextMemoryLevel() {
            gameState.memoryLevel++;
            document.getElementById('memory-level').textContent = gameState.memoryLevel;
            document.getElementById('memory-next').classList.add('hidden');
            startMemoryRound();
        }
    </script>
</body>
</html>
